# 운영체제: 프로세스와 스레드

### 1. 프로세스

- 실행 중인 프로그램
- 비동기적 행위
- 운영체제에 들어 있는 프로세스 제어 블록(PCB)과 1:1로 연결
- 디스패치가 가능한 대상

### 2. 프로세스의 일반적인 메모리 구조

- 스택
    - 데이터를 일시적으로 저장하는 영역
    - 지역변수, 호출한 함수의 반환 주소, 반환 값, 매개변수 등
- 힙
    - 코드 영역과 별도로 유지되는 자유 영역
    - 동적으로 메모리 할당하기 위해 프로그램 실행 중 시스템 호출을 사용했다가 해제하는 방법으로 활용함
- 데이터
    - 프로그램의 가상주소 공간
    - 전역변수, 정적 변수를 저장하거나 할당하고, 실행하기 전에 초기화
- 코드
    - 프로그램 영역(실행 명령을 포함하는 메모리이거나 목적 파일에 있음)
    - 프로그램 시작 시 프로세서가 디스크에서 읽어 실행하는 컴파일한 프로그램을 저장

### 3. 프로세스 종류

- (1) 시스템(커널) 프로세스
    - 시스템 관리 기능 담당
    - 프로세스 실행 순서 제어, 다른 사용자 및 커널 영역 감시, 사용자 프로세스 생성

- (2) 사용자 프로세스
    - 사용자 코드 수행

- (3) 독립 프로세스
    - 다른 프로세스에 영향을 주지 않거나 다른 프로세스의 영향을 받지 않으면서 수행하는 "병행" 프로세스

- (4) 협력 프로세스
    - 다른 프로세스에 영향을 주거나 다른 프로세스에서 영향을 받는 "병행" 프로세스

### 4. 프로세스 상태 
- 생성
- 준비
- 실행
- 대기
- 완료

### 5. 프로세스 제어블록(PCB)
- 운영체제의 특정 프로세스에 대한 중요한 정보를 제공해 주는 데이터 블록
    - 프로세스의 현재 상태
        - 생성, 준비, 실행, 대기, 중단 등의 상태 표시
    - 프로그램 카운터
        - 프로세스를 수행하기 위한 다음 명령의 주소를 표시
    - 레지스터
        - 누산기, 인덱스 레지스터, 조건 코드 등에 관한 정보
    - 계정정보
        - 프로세서 사용 시간, 사용 상한 시간
    - 프로세서 스케줄링
        - 프로세스의 우선순위, 스케줄링 큐에 대한 포인터를 표시
    - 메모리 관리 정보
        - 메모리 영역을 정의하는 하한 및 상한 레지스터, 페이지 테이블 정보

### 6. 문맥 교환(Context Switching)
- 프로세서를 다른 프로세스로 전환하기 위해 이전의 프로세스 상태 레지스터 내용을 보관하고 다른 프로세스의 레지스터들을 적재하는 과정

### 7. 스레드
- 프로세스 하나 => 스레드 한 개 이상으로 나누기 가능
- 단일 프로세스에서 단일 스레드 OR 다중 스레드 실행 지원
