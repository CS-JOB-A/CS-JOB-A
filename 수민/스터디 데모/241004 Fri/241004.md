# 2-04. 엔티티로 테이블 매핑하기

### (1) 데이터베이스 구성 요소
- 데이터베이스는 기본적으로 2차원 표 형태로 저장하고 관리
- 테이블: 표 형태의 데이터 저장 공간
- 행: 가로줄
- 열: 세로줄
- 기본키(Primary Key): 테이블의 데이터가 중복되어 저장되지 않게 함
    - 특정 열을 기본키로 설정 시 해당 열에는 동일한 값 저장 불가

### (2) 엔티티 속성 구성하기
- 엔티티(Entity): 데이터베이스 테이블과 매핑되는 자바 클래스 
- 질문과 답변 게시판 서비스 -> 질문, 답변 데이터 저장 데이터베이스와 테이블과 매핑되는 질문, 답변 엔티티 필요
- 질문 엔티티
    - id, subject, content, createDate
- 답변 엔티티
    - id, question, content, createDate

- 엔티티 클래스에 붙는 애너테이션 
    - @Id
        - 해당 속성을 기본키로 지정

    - @GeneratedValue
        - 데이터 저장 시 해당 속성에 값을 일일이 입력하지 않아도 자동으로 1씩 증가하여 저장됨
        - strategy = GenerationType.IDENTITY: 해당 속성만 별도로 번호가 차례대로 늘어나도록 할 때 사용

    - @Column
        - 엔티티의 속성은 테이블의 열 이름과 일치하는데, 열의 세부 설정을 위해 사용하는 애너테이션

- 엔티티에는 setter 사용 지양
    - 왜 ? 엔티티는 데이터베이스와 바로 연결되므로 데이터를 자유롭게 변경할 수 있는 setter는 안전하지 않음
    - 엔티티는 생성자에 의해서만 엔티티의 값을 저장할 수 있도록!
    - 데이터 변경해야 할 땐 ? 메서드를 추가로 작성할 것

- @ManyToOne
    - 부모 자식 관계 갖는 구조에서 사용
    - 질문과 답변 -> 부모는 질문, 자식은 답변
    - Many: 답변, One: 질문
    - 해당 애너테이션은 Many인 쪽에 달도록 함